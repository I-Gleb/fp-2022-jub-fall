# Отчет
## Постановка задачи

Вычислительная математика

- Библиотека
- Пользователь задает допустимую ошибку и определенный интеграл как функцию на хаскелле
- Реализуете 3 метода вычисления определенного интеграла
- Обработка ошибок
- Юнит-тесты
- Консольный интерфейс, где пользователь может задать определенный интеграл и получить ответ, не кодя на хаскелле
- Сравнение трех методов между собой

## Библиотека

Реализовал три функции для вычисления интегралов: `evalIntegralMidPoint`, `evalIntegralTrapezoid`, `evalIntegralSimpson`. Их можно найти в `src/Integration`. 
Сигнатуры у них одинаковые. Принимают функцию из Double в Double, которую надо интегрировать, и ещё 3 Double - границы интегрирования и допустимую погрешность.
Все функции начинают с разбиения на 1 отрезок и измельчают его на каждом шаге в 2 раза(а при Middle Point методе в 3) пока разница двух по двум последовательным измельчениям не будет достаточно мала.
Реализация считает переиспользует уже посчитанные значения и никогда не считает значение в одной и той же точке дважды.
Функции возвращают Either String Double, чтобы индицировать возможные ошибки.

## Тесты

Написал несколько юнит тестов на каждую из реализаций. И один для парсера.

## Консольное приложение

Сделал простенькое консольное приложение. Описание использования:

```
Usage: stack run exe -- (-f|--function STRING) (-a|--from DOUBLE) (-b|--to DOUBLE) (-e|--eps DOUBLE)
  This application evaluates definite integrals with some fixed precision.

Available options:
  -f,--function STRING     Function to be integrated.
  -a,--from DOUBLE         Start of integration segment.
  -b,--to DOUBLE           End of integration segment.
  -e,--eps DOUBLE          Precision of integration.
  -h,--help                Show this help text
 ```
 
 Example: `stack run exe -- -f 4*x*x*x-20*x*x+17*x+3 -a -13 -b 20 -e 0.0001`
 
 Из недоработок: не парсит не целые числа, поэтому их нужно писать ввиде дробей и нет сложных функций типа степени и экспаненты.
 А так выдаёт осмысленное сообщение об ошибке, если не смог разпарсить. Немного усовершенствовал парсер с практик, чтобы он поддерживал одну неизвестную переменную $x$.
 
 ## Сравнение методов
 
 Вынес в отдельный файл integrationPerformance.md.
